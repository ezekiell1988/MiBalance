<div class="container-fluid">
  <!-- Resumen de Tarjetas -->
  <div class="row mb-3">
    <div class="col-md-4">
      <div class="card border-danger">
        <div class="card-body text-center">
          <div class="text-muted f-s-12">Saldo Total</div>
          <div class="f-s-20 f-w-600 text-danger">
            {{ saldoTotal | currency:'CRC':'symbol-narrow':'1.0-0' }}
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-primary">
        <div class="card-body text-center">
          <div class="text-muted f-s-12">Límite Total</div>
          <div class="f-s-20 f-w-600 text-primary">
            {{ limiteTotal | currency:'CRC':'symbol-narrow':'1.0-0' }}
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-success">
        <div class="card-body text-center">
          <div class="text-muted f-s-12">Disponible</div>
          <div class="f-s-20 f-w-600 text-success">
            {{ disponibleTotal | currency:'CRC':'symbol-narrow':'1.0-0' }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Listado de Tarjetas -->
  <div class="row">
    <div class="col-xl-6 mb-3" *ngFor="let tarjeta of tarjetas">
      <panel [title]="tarjeta.nombre" [variant]="'inverse'">
        <div class="p-3">
          <div class="d-flex justify-content-between mb-3">
            <div>
              <div class="text-muted f-s-12">Banco</div>
              <div class="f-w-600">{{ tarjeta.banco }}</div>
            </div>
            <div class="text-end">
              <div class="text-muted f-s-12">Número</div>
              <div class="f-w-600">{{ tarjeta.numero }}</div>
            </div>
          </div>

          <div class="mb-3">
            <div class="d-flex justify-content-between mb-1">
              <span class="text-muted f-s-12">Uso de la Tarjeta</span>
              <span class="text-muted f-s-12">{{ getPorcentajeUso(tarjeta) | number:'1.0-0' }}%</span>
            </div>
            <div class="progress" style="height: 8px;">
              <div class="progress-bar" 
                   [ngClass]="getPorcentajeUso(tarjeta) > 80 ? 'bg-danger' : (getPorcentajeUso(tarjeta) > 50 ? 'bg-warning' : 'bg-success')"
                   [style.width.%]="getPorcentajeUso(tarjeta)"></div>
            </div>
          </div>

          <div class="row text-center">
            <div class="col-4">
              <div class="text-muted f-s-11">Saldo</div>
              <div class="f-w-600 text-danger f-s-14">
                {{ tarjeta.saldo | currency:'CRC':'symbol-narrow':'1.0-0' }}
              </div>
            </div>
            <div class="col-4">
              <div class="text-muted f-s-11">Límite</div>
              <div class="f-w-600 f-s-14">
                {{ tarjeta.limite | currency:'CRC':'symbol-narrow':'1.0-0' }}
              </div>
            </div>
            <div class="col-4">
              <div class="text-muted f-s-11">Fecha Corte</div>
              <div class="f-w-600 f-s-14">{{ tarjeta.fechaCorte | date:'dd/MM' }}</div>
            </div>
          </div>

          <div class="mt-3 text-center">
            <button class="btn btn-sm btn-outline-primary me-2">
              <i class="fa fa-eye"></i> Ver Detalles
            </button>
            <button class="btn btn-sm btn-outline-success">
              <i class="fa fa-dollar-sign"></i> Pagar
            </button>
          </div>
        </div>
      </panel>
    </div>
  </div>

  <!-- Botón para agregar tarjeta -->
  <div class="row">
    <div class="col-12 text-center">
      <button class="btn btn-primary btn-lg">
        <i class="fa fa-plus"></i> Agregar Nueva Tarjeta
      </button>
    </div>
  </div>
</div>
